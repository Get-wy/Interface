(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d7614e4"],{"28a5":function(e,t,n){"use strict";var a=n("aae3"),r=n("cb7c"),i=n("ebd6"),s=n("0390"),u=n("9def"),c=n("5f1b"),o=n("520a"),l=n("79e5"),f=Math.min,g=[].push,d="split",h="length",p="lastIndex",m=4294967295,b=!l((function(){RegExp(m,"y")}));n("214f")("split",2,(function(e,t,n,l){var v;return v="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[h]||2!="ab"[d](/(?:ab)*/)[h]||4!="."[d](/(.?)(.?)/)[h]||"."[d](/()()/)[h]>1||""[d](/.?/)[h]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!a(e))return n.call(r,e,t);var i,s,u,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,d=void 0===t?m:t>>>0,b=new RegExp(e.source,l+"g");while(i=o.call(b,r)){if(s=b[p],s>f&&(c.push(r.slice(f,i.index)),i[h]>1&&i.index<r[h]&&g.apply(c,i.slice(1)),u=i[0][h],f=s,c[h]>=d))break;b[p]===i.index&&b[p]++}return f===r[h]?!u&&b.test("")||c.push(""):c.push(r.slice(f)),c[h]>d?c.slice(0,d):c}:"0"[d](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,a){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,a):v.call(String(r),n,a)},function(e,t){var a=l(v,e,this,t,v!==n);if(a.done)return a.value;var o=r(e),g=String(this),d=i(o,RegExp),h=o.unicode,p=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(b?"y":"g"),w=new d(b?o:"^(?:"+o.source+")",p),x=void 0===t?m:t>>>0;if(0===x)return[];if(0===g.length)return null===c(w,g)?[g]:[];var S=0,y=0,L=[];while(y<g.length){w.lastIndex=b?y:0;var D,_=c(w,b?g:g.slice(y));if(null===_||(D=f(u(w.lastIndex+(b?0:y)),g.length))===S)y=s(g,y,h);else{if(L.push(g.slice(S,y)),L.length===x)return L;for(var j=1;j<=_.length-1;j++)if(L.push(_[j]),L.length===x)return L;y=S=D}}return L.push(g.slice(S)),L}]}))},"5b76":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"StaffBonusDetail-container"},[n("el-form",{attrs:{inline:""}},[n("el-form-item",{attrs:{label:"季度选择"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleChangeSeason},model:{value:e.quarter,callback:function(t){e.quarter=t},expression:"quarter"}},e._l(e.quarterList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.season_name,value:e.season_name}})})),1)],1)],1),e._v(" "),n("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","summary-method":e.getSummaries,"show-summary":""}},[n("el-table-column",{attrs:{type:"index",prop:"index",label:"序号",width:"80",align:"center",fixed:"left"}}),e._v(" "),n("el-table-column",{attrs:{prop:"projectNumder",label:"项目编号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"projectName",label:"项目名称",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"designStage",label:"设计阶段",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"subspecialty",label:"专业",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"bonusCalc",label:"计算产值",align:"center"}})],1)],1)},r=[],i=(n("96cf"),n("3b8d")),s=(n("c5f6"),n("ac6a"),n("ed08")),u={name:"StaffBonusDetail",data:function(){return{quarter:"",quarterList:[],designStageList:[],tableData:[]}},computed:{},methods:{getSummaries:function(e){var t=e.columns,n=e.data,a=[];return t.forEach((function(e,t){if(t<5)a[t]=0===t?"合计":"";else{var r=n.map((function(t){return Number(t[e.property])}));r.every((function(e){return isNaN(e)}))?a[t]="":(a[t]=r.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0),a[t]=a[t].toFixed(2))}})),a},getQuarterList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.$store.dispatch("ProductionValueList/getQuarterList").then((function(n){t.quarterList=n,t.quarterList.length>0&&(t.quarter=t.quarterList[0].season_name),e()})).catch((function(e){t.$message({message:e,type:"warning"})}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),readSettings:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.$store.dispatch("settings/getSettings").then((function(n){t.designStageList=n.designPhase,e()})).catch((function(e){t.$message({message:e,type:"warning"})}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),handleChangeSeason:function(){this.getProjectList()},getProjectList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("bonusStaff/getStaffBonusDetailList",{seasonName:this.quarter}).then((function(e){for(var n in t.tableData=e.data,t.tableData)t.tableData[n].designStage=Object(s["a"])(t.tableData[n].designStage,t.designStageList),t.tableData[n].designPhaseName&&(t.tableData[n].designStage="".concat(t.tableData[n].designStage,"-").concat(t.tableData[n].designPhaseName))})).catch((function(e){t.$message({message:e,type:"warning"})}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),init:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readSettings();case 2:return e.next=4,this.getQuarterList();case 4:return e.next=6,this.getProjectList();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.init()}},c=u,o=c,l=(n("f6cc"),n("2877")),f=Object(l["a"])(o,a,r,!1,null,"5c6bf5cd",null);t["default"]=f.exports},e384:function(e,t,n){},ed08:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));n("28a5"),n("a481"),n("6b54"),n("7618");function a(e,t){for(var n in t)if(t[n].value==e)return t[n].label}function r(e,t){for(var n in t)if(t[n].label==e)return t[n].value}},f6cc:function(e,t,n){"use strict";var a=n("e384"),r=n.n(a);r.a}}]);