(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221fd3"],{cd62:function(s,r,o){"use strict";o.r(r);var a=function(){var s=this,r=s.$createElement,o=s._self._c||r;return o("div",{staticClass:"password-container",staticStyle:{"margin-top":"30px"}},[o("el-form",{ref:"passwordForm",staticClass:"password-form",staticStyle:{width:"500px"},attrs:{model:s.passwordForm,rules:s.passwordRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"原密码",prop:"oldpassword",maxlength:"18"}},[o("el-input",{attrs:{type:"password"},model:{value:s.passwordForm.oldpassword,callback:function(r){s.$set(s.passwordForm,"oldpassword",r)},expression:"passwordForm.oldpassword"}})],1),s._v(" "),o("el-form-item",{attrs:{label:"新密码",prop:"newpassword",maxlength:"18"}},[o("el-input",{attrs:{type:"password"},model:{value:s.passwordForm.newpassword,callback:function(r){s.$set(s.passwordForm,"newpassword",r)},expression:"passwordForm.newpassword"}})],1),s._v(" "),o("el-form-item",{attrs:{label:"确认新密码",prop:"confirmpassword",maxlength:"18"}},[o("el-input",{attrs:{type:"password"},model:{value:s.passwordForm.confirmpassword,callback:function(r){s.$set(s.passwordForm,"confirmpassword",r)},expression:"passwordForm.confirmpassword"}})],1),s._v(" "),o("el-form-item",[o("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",disabled:!(s.IsOldPasswordValid&&s.IsNewPasswordValid&&s.IsNewPassWordConsistent)},on:{click:function(r){return s.onsubmit()}}},[s._v("确认")])],1)],1)],1)},e=[],t={data:function(){var s=this,r=function(r,o,a){s.IsOldPasswordValid=!1,""===s.passwordForm.oldpassword?a(new Error("请输入原密码!")):(s.IsOldPasswordValid=!0,a())},o=function(r,o,a){var e=/^[a-zA-Z0-9]{6,18}$/;s.IsNewPasswordValid=!1,""===s.passwordForm.newpassword?a(new Error("请输入新密码!")):e.test(s.passwordForm.newpassword)?(s.IsNewPasswordValid=!0,a()):a(new Error("密码由数字或字母组成，位数为6-18位!"))},a=function(r,o,a){s.IsNewPassWordConsistent=!1,""===s.passwordForm.confirmpassword?a(new Error("请确认新密码!")):s.passwordForm.confirmpassword!==s.passwordForm.newpassword?a(new Error("两次输入的新密码不一致!")):(s.IsNewPassWordConsistent=!0,a())};return{IsOldPasswordValid:!1,IsNewPasswordValid:!1,IsNewPassWordConsistent:!1,passwordForm:{oldpassword:"",newpassword:"",confirmpassword:""},passwordRules:{oldpassword:[{required:!0,validator:r,trigger:"blur"}],newpassword:[{required:!0,validator:o,trigger:"blur"}],confirmpassword:[{required:!0,validator:a,trigger:"blur"}]}}},methods:{onsubmit:function(){var s=this;console.log(this.passwordForm),this.$refs["passwordForm"].validate((function(r){if(!r)return!1;s.$store.dispatch("user/changepassword",s.passwordForm).then((function(){s.$message({message:"修改密码成功,请重新登录。",type:"success"}),s.$store.dispatch("user/logout"),s.$router.push("/login")})).catch((function(r){s.$message({message:r,type:"warning"})}))}))}}},d=t,n=o("2877"),w=Object(n["a"])(d,a,e,!1,null,null,null);r["default"]=w.exports}}]);