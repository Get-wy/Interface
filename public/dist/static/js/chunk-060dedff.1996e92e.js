(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-060dedff"],{"152c":function(t,e,a){"use strict";var n=a("535d"),r=a.n(n);r.a},"535d":function(t,e,a){},d07c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StaffBonusDetail-container"},[a("el-page-header",{attrs:{title:"返回",content:t.contentName},on:{back:t.goBack}}),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"","summary-method":t.getSummaries,"show-summary":""}},[a("el-table-column",{attrs:{type:"index",prop:"index",label:"序号",width:"80",sortable:"",align:"center",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectNumder",label:"项目编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"designStage",label:"设计阶段",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.designStage))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"currentSeason",label:"季度",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subspecialty",label:"专业",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bonusCalc",label:"计算产值",align:"center"}})],1)],1)},r=[],i=(a("96cf"),a("3b8d")),s=(a("c5f6"),a("ac6a"),a("ed08")),o=(a("add5"),{name:"StaffBonusDetail",data:function(){return{contentName:"",designPhase:[],specialty_Category:"",specialty_CategoryList:[],project_NameOrNumber:"",total:0,pageSize:0,tableData:[{projectName:"",projectNumder:"",designStage:2,currentSeason:"",subspecialty:1,bonusCalc:0}]}},computed:{},methods:{goBack:function(){this.$router.push({name:"产值查询",params:{type:this.$route.params.type}})},getSummaries:function(t){var e=t.columns,a=t.data,n=[];return e.forEach((function(t,e){if(e<6)n[e]=0===e?"合计":"";else{var r=a.map((function(e){return Number(e[t.property])}));r.every((function(t){return isNaN(t)}))?n[e]="":(n[e]=r.reduce((function(t,e){var a=Number(e);return isNaN(a)?t:t+e}),0),6===e&&(n[e]=n[e].toFixed(2)))}})),n},handleClickStatus:function(t){this.$router.push({path:"/bonus-principal-staff/StaffBonusDetail"})},handleCurrentChange:function(t){this.getList(t)},handleSizeChange:function(t){},getList:function(t){var e=this,a={userId:this.$route.query.userId,specialty:this.$route.query.specialty,page:t||"",seasonName:this.$route.params.seasonName};this.$store.dispatch("ProductionValueList/getStaffBonusDetail",a).then((function(t){for(var a in console.log("页面",t),e.tableData=t.data,e.tableData)e.tableData[a].designStage=Object(s["a"])(e.tableData[a].designStage,e.designPhase)})).catch((function(t){e.$message({message:t,type:"warning"})}))},Output:function(){},init:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.$route.query),t.next=3,this.$store.dispatch("settings/getSettings").then((function(t){e.designPhase=t.designPhase})).catch((function(){}));case 3:this.contentName="人员: ".concat(this.$route.query.userName),this.getList();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.init()}}),u=o,c=(a("152c"),a("2877")),l=Object(c["a"])(u,n,r,!1,null,"a6074900",null);e["default"]=l.exports},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));a("28a5"),a("a481"),a("6b54"),a("7618");function n(t,e){for(var a in e)if(e[a].value==t)return e[a].label}function r(t,e){for(var a in e)if(e[a].label==t)return e[a].value}}}]);